{
  "openapi": "3.0.0",
  "info": {
    "title": "E-Withholding Tax",
    "description": "An example API documentation for a E-Withholding tax.",
    "imageBase64": "<img src='data:image/png;base64,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'/>",
    "version": "1.0"
  },
  "servers": [
    {
      "url": "https://www.uat-inno.ktb.co.th/paotang/{environment}/tax/",
      "variables": {
        "environment": {
          "default": "test/uat/bond",
          "enum": [
            "test/uat/bond",
            "v1/bond"
          ]
        }
      }
    },
    {
      "url": "http://localhost:8000/"
    }
  ],
  "components": {
    "schemas": {
      "BaseHeaderRequest": {
        "type": "object",
        "properties": {
          "reqID": {
            "type": "string",
            "example": "",
            "description": ""
          },
          "reqChannel": {
            "type": "string",
            "example": "",
            "description": ""
          },
          "reqDtm": {
            "type": "string",
            "example": "",
            "description": ""
          },
          "service": {
            "type": "string",
            "example": "",
            "description": ""
          },
          "txnRefID": {
            "type": "string",
            "example": "",
            "description": ""
          },
          "ip": {
            "type": "string",
            "example": "",
            "description": ""
          },
          "sofType": {
            "type": "string",
            "example": "",
            "description": ""
          }
        }
      },
      "BaseHeaderResponse": {
        "type": "object",
        "properties": {
          "reqID": {
            "type": "string",
            "example": "",
            "description": ""
          },
          "reqDtm": {
            "type": "string",
            "example": "",
            "description": ""
          },
          "txnRefID": {
            "type": "string",
            "example": "",
            "description": ""
          },
          "service": {
            "type": "string",
            "example": "",
            "description": ""
          },
          "statusCd": {
            "type": "string",
            "example": "0000",
            "description": ""
          },
          "statusDesc": {
            "type": "string",
            "example": "Success",
            "description": ""
          }
        }
      },
      "DocumentRequest": {
        "type": "object",
        "properties": {
          "walletId": {
            "type": "string",
            "example": "006123456789",
            "description": "test xxxxxx"
          },
          "email": {
            "type": "string",
            "example": "test@gmail.com",
            "description": ""
          },
          "year": {
            "type": "string",
            "example": "2554",
            "description": ""
          }
        }
      },
      "DocumentResponse": {
        "type": "object",
        "properties": {
          "hasInformation": {
            "type": "string",
            "example": "Y",
            "description": ""
          }
        }
      },
      "GetYearRequest": {
        "type": "object",
        "nullable": true,
        "properties": {
          "requestId": {
            "type": "string",
            "nullable": true,
            "example": "test xxxx111",
            "description": "not being use, but"
          }
        }
      },
      "GetYearResponse": {
        "type": "object",
        "properties": {
          "years": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "display": {
                  "type": "string",
                  "example": "2564",
                  "description": "thai buddhist year"
                },
                "value": {
                  "type": "string",
                  "example": "2021",
                  "description": "christian year"
                },
                "displayFull": {
                  "type": "string",
                  "example": "ปีนำส่งภาษี : 2564",
                  "description": "thai buddhist year with phase for drop down display "
                }
              }
            }
          }
        }
      },
      "ItemsInterestRequest": {
        "type": "object",
        "properties": {
          "walletId": {
            "type": "string",
            "example": "0000",
            "description": "wallet id"
          },
          "taxYear": {
            "type": "string",
            "example": "2564",
            "description": "4 digit thai buddhist year"
          },
          "thaiSymbol": {
            "type": "string",
            "nullable": true,
            "example": "TH0013057B05",
            "description": "thai symbol ref id"
          }
        }
      },
      "ItemsInterestResponse": {
        "type": "object",
        "properties": {
          "result": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "thaiSymbols": {
                  "type": "string",
                  "example": "TH0013057B05",
                  "description": "thai symbol"
                },
                "bondName": {
                  "type": "string",
                  "example": "พัณนธบัตรออมทรัพย์ของกระทรวงการคลับ ประเภทยอยชำระเงินต้น ในปีงบประมาณ พ.ศ. 2563 รุ่นอายุ 5 ปี",
                  "description": "name of bond"
                },
                "taxAmount": {
                  "type": "string",
                  "example": "15.12",
                  "description": "amount of tax"
                },
                "intBeforeTax": {
                  "type": "string",
                  "example": "100",
                  "description": "interest before tax"
                },
                "intAfterTax": {
                  "type": "string",
                  "example": "84.8",
                  "description": "interest before tax"
                },
                "ewhtDate": {
                  "type": "string",
                  "example": "2564-04-10",
                  "description": "e-with holding tax date"
                },
                "paymentDate": {
                  "type": "string",
                  "example": "2564-04-10",
                  "description": "payment date"
                },
                "calDay": {
                  "type": "string",
                  "example": "182",
                  "description": "interest calculation date"
                },
                "customerName": {
                  "type": "string",
                  "example": "วายุ มีตัง",
                  "description": "name of customer"
                },
                "taxId": {
                  "type": "string",
                  "example": "1234567890123",
                  "description": "tax id (13 digit)"
                },
                "incomeType": {
                  "type": "string",
                  "example": "ดอกเบี้ย ฯลฯ ตาม มาตรา 40(4)(ก)",
                  "description": "type of income"
                },
                "payerTaxId": {
                  "type": "string",
                  "example": "1234567890123",
                  "description": "tax id of payer (13 digit)"
                },
                "rdRefNo": {
                  "type": "string",
                  "example": "202101101234567890",
                  "description": "ref no"
                }
              }
            }
          }
        }
      },
      "SummaryRequest": {
        "type": "object",
        "properties": {
          "walletId": {
            "type": "string",
            "example": "006123456789",
            "description": ""
          },
          "year": {
            "type": "string",
            "example": "2001",
            "description": ""
          }
        }
      },
      "SummaryResponse": {
        "type": "object",
        "properties": {
          "hasInformation": {
            "type": "string",
            "example": "Y",
            "description": ""
          }
        }
      }
    },
    "responses": {
      "error": {
        "description": "ERROR",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "message": {
                  "description": "Describes the error in a human-readable format.",
                  "type": "string",
                  "example": "Permission denied."
                }
              }
            }
          }
        }
      }
    },
    "parameters": {
      "task": {
        "name": "id",
        "in": "query",
        "required": true,
        "description": "The identifier of the task at hand.",
        "schema": {
          "type": "string"
        }
      }
    }
  },
  "paths": {
    "/yearly/request": {
      "post": {
        "tags": [
          "E-Withholding Tax"
        ],
        "summary": "Service สำหรับการส่ง Email",
        "description": "รวบรวมรายการภาษีของปีนั้นๆ และส่ง Email",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "headerReq": {
                    "$ref": "#/components/schemas/BaseHeaderRequest"
                  },
                  "content": {
                    "$ref": "#/components/schemas/DocumentRequest"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "headerReq": {
                      "$ref": "#/components/schemas/BaseHeaderResponse"
                    },
                    "content": {
                      "$ref": "#/components/schemas/DocumentResponse"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/error"
          }
        }
      }
    },
    "/e-withhold/interest/years/get": {
      "post": {
        "tags": [
          "interest"
        ],
        "summary": "get year",
        "description": "get year",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "headerReq": {
                    "$ref": "#/components/schemas/BaseHeaderRequest"
                  },
                  "content": {
                    "$ref": "#/components/schemas/GetYearRequest"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "headerReq": {
                      "$ref": "#/components/schemas/BaseHeaderResponse"
                    },
                    "content": {
                      "$ref": "#/components/schemas/GetYearResponse"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/error"
          }
        }
      }
    },
    "/e-withhold/interest/list/get": {
      "post": {
        "tags": [
          "interest"
        ],
        "summary": "get list",
        "description": "get list of tax detail",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "headerReq": {
                    "$ref": "#/components/schemas/BaseHeaderRequest"
                  },
                  "content": {
                    "$ref": "#/components/schemas/ItemsInterestRequest"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "headerReq": {
                      "$ref": "#/components/schemas/BaseHeaderResponse"
                    },
                    "content": {
                      "$ref": "#/components/schemas/ItemsInterestResponse"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/error"
          }
        }
      }
    },
    "/yearly/summary": {
      "post": {
        "tags": [
          "E-Withholding Tax"
        ],
        "summary": "Service สำหรับตรวจสอบภาษี",
        "description": "ตรวจสอบรายการภาษีของปีนั้นๆ",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "headerReq": {
                    "$ref": "#/components/schemas/BaseHeaderRequest"
                  },
                  "content": {
                    "$ref": "#/components/schemas/SummaryRequest"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "headerReq": {
                      "$ref": "#/components/schemas/BaseHeaderResponse"
                    },
                    "content": {
                      "$ref": "#/components/schemas/SummaryResponse"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "$ref": "#/components/responses/error"
          }
        }
      }
    }
  }
}
